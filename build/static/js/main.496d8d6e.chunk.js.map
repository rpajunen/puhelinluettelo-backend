{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","filter","handleFilterChange","react_default","a","createElement","value","onChange","PersonForm","newName","newNumber","addPerson","handleNameChange","handleNumberChange","onSubmit","type","Persons","rows","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","console","log","put","concat","delete","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","isNewName","name","every","person","personsToShow","length","toUpperCase","includes","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personObject","number","returnedPerson","setTimeout","catch","error","window","confirm","updatedPerson","find","p","components_Persons","map","key","onClick","handleRemove","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.496d8d6e.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div>\n      rajaa naytettavia <input value={filter} onChange={handleFilterChange}></input>\n    </div>\n  );\n};\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = ({ newName, newNumber, addPerson, handleNameChange, handleNumberChange}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <h2>Lisaa uusi</h2>\n      <div>\n        nimi: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        numero: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({ rows }) => {\n  return (\n    <div>\n      <h2>Numerot</h2>\n      <ul>\n        {rows()}\n      </ul>\n    </div>\n  )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  console.log('doing some update', id, newObject)\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (isNewName(newName)) {\n      \n      personsService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setErrorMessage(\n            `Henkilo '${returnedPerson.name}' lisatty`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log()\n          setErrorMessage(error.response.data.error)\n        })\n    } else {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko numero uudella?`)) {\n\n        const updatedPerson = persons.find(person => person.name === newName)\n        personsService\n          .update(updatedPerson.id, personObject)\n          .then(returnedPerson => {\n            const p = persons.filter(p => p.id !== updatedPerson.id)\n            setPersons(p.concat(returnedPerson))\n            setErrorMessage(\n              `Henkilo '${updatedPerson.name}' numero paivitetty`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n          .catch(() => {\n            setErrorMessage(\n              `Henkilo '${updatedPerson.name}' oli jo poistettu`\n            )\n            setPersons(persons.filter(p => p.id !== updatedPerson.id))\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const isNewName = name => persons.every(person => person.name !== name)\n\n  const personsToShow = filter.length === 0\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase()))\n\n  const handleRemove = person => {\n    if (window.confirm(`Do you want to remove ${person.name}`)) {\n      personsService\n        .remove(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => person.id !== p.id))\n          setErrorMessage(\n            `Henkilo '${person.name}' poistettu palvelimelta`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const rows = () => personsToShow.map(person => <li key={person.id}>{person.name} {person.number} <button onClick={() => handleRemove(person)}>remove</button></li>)\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Notification message={errorMessage} />\n      <Filter\n        filter={filter}\n        handleFilterChange={event => setFilter(event.target.value)} />\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNameChange={event => setNewName(event.target.value)}\n        handleNumberChange={event => setNewNumber(event.target.value)} />\n      <Persons rows={rows} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}